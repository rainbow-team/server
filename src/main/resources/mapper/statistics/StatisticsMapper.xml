<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.rainbow.statistics.dao.StatisticsMapper">
  <resultMap id="BaseResultMap" type="com.rainbow.statistics.domain.ResultObj">
    <!--
      WARNING - @mbg.generated
    -->
    <result column="typeValue" jdbcType="VARCHAR" property="typeValue" />
    <result column="resultNum" jdbcType="VARCHAR" property="typeValue" />
  </resultMap>


  <select id="searchResultByCommonConditon" parameterType="com.rainbow.statistics.domain.SearchCondition" resultMap="BaseResultMap">
         select a.`value` as typeValue, b.resultNum
         from ${configTableName} a
         left join
         (select c.${propertyName} as rid ,count(id) as resultNum  from ${tableName} c group by ${propertyName}) b
         on a.id = b.rid
  </select>

</mapper>