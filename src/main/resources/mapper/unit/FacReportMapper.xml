<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.rainbow.unit.dao.FacReportMapper">
  <resultMap id="BaseFacResultResultMap" type="com.rainbow.unit.domain.FacReport">
    <!--
      WARNING - @mbg.generated
    -->
    <id column="id" jdbcType="VARCHAR" property="id" />
    <result column="fac_id" jdbcType="VARCHAR" property="facId" />
    <result column="type_id" jdbcType="DATE" property="typeId" />
    <result column="date" jdbcType="DATE" property="date" />
  </resultMap>

  <resultMap id="FacReportExtendMap" extends="BaseFacResultResultMap" type="com.rainbow.unit.domain.FacReportExtend">
    <result column="reportTypeValue" jdbcType="VARCHAR" property="reportTypeValue" />
  </resultMap>


  <select id="getFacReportList" parameterType="map" resultMap="FacReportExtendMap">

    select
      t.*,
      rt.rt reportTypeValue
    from unit_fac_report t
    left join config_fac_report_type rt on t.type_id = rt.id
    where t.fac_id = #{facId}

  </select>

  <select id="getFacReportById" parameterType="java.lang.String" resultMap="FacReportExtendMap">

    select
      t.*,
      rt.rt reportTypeValue
    from unit_fac_report t
    left join config_fac_report_type rt on t.type_id = rt.id
    where t.id = #{id}

  </select>

  <delete id="deleteFacReportByFacId" parameterType="java.lang.String">
    delete from unit_fac_report where fac_id = #{id}
  </delete>

</mapper>